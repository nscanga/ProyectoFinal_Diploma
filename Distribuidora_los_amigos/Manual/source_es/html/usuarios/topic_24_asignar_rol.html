<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asignar Rol - Distribuidora Los Amigos</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <div class="breadcrumb">
        <a href="../general/topic_20_main.html">Inicio</a>
        <span>‚Ä∫</span>
        <a href="#">Gesti√≥n de Usuarios</a>
        <span>‚Ä∫</span>
        <span>Asignar Rol</span>
    </div>

    <h1>Asignar roles (familias) a usuarios</h1>

    <section id="introduccion">
        <h2>Descripci√≥n general</h2>
        <p>
            Esta pantalla permite relacionar un usuario con una familia (rol) previamente configurada.
            Al asignar la familia el usuario hereda todas las patentes incluidas y su men√∫ se actualiza inmediatamente.
        </p>
    </section>

    <section id="acceso">
        <h2>C√≥mo acceder</h2>
        <ol>
            <li>Desde la pantalla principal seleccione <strong>Gesti√≥n ‚Üí Asignar rol</strong>.</li>
            <li>El formulario mostrar√° dos listas desplegables: usuarios y familias.</li>
        </ol>
    </section>

    <section id="campos">
        <h2>Controles disponibles</h2>
        <table>
            <thead>
                <tr>
                    <th>Control</th>
                    <th>Descripci√≥n</th>
                    <th>Tipo</th>
                    <th>Obligatorio</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>comboBoxUsers</strong></td>
                    <td>Listado de usuarios obtenidos mediante <code>UserService.GetAllUsuarios()</code>.</td>
                    <td>ComboBox</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>comboBoxRoles</strong></td>
                    <td>Familias disponibles (roles) cargadas con <code>FamiliaService.GetAllFamilias()</code>.</td>
                    <td>ComboBox</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Asignar</strong></td>
                    <td>Bot√≥n que ejecuta <code>FamiliaService.AsignarFamiliaAUsuario</code> y registra la acci√≥n.</td>
                    <td>Bot√≥n</td>
                    <td>‚Äî</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="procedimiento">
        <h2>Paso a paso</h2>
        <ol>
            <li>Seleccione el usuario en el primer combo. El nombre se muestra en la bit√°cora para auditor√≠a.</li>
            <li>Elija la familia que desea asignar. Puede contener patentes y subfamilias.</li>
            <li>Presione <strong>Asignar</strong>. Si todo es correcto se mostrar√° un mensaje de √©xito.</li>
            <li>El usuario ya podr√° acceder a las funcionalidades habilitadas por la familia seleccionada.</li>
        </ol>
    </section>

    <section id="validaciones">
        <h2>Validaciones y mensajes</h2>
        <ul>
            <li>Es obligatorio seleccionar un usuario y una familia. De lo contrario se muestra un mensaje traducido.</li>
            <li>Las operaciones exitosas se registran en la bit√°cora con el usuario que realiza la asignaci√≥n.</li>
            <li>Los errores de base de datos se informan al usuario y se registran para an√°lisis.</li>
        </ul>
    </section>

    <section id="consejos">
        <h2>Recomendaciones</h2>
        <div class="tip">Defina familias con nombres claros (por ejemplo, ‚ÄúVentas‚Äù o ‚ÄúDep√≥sito‚Äù) para identificar r√°pidamente sus patentes.</div>
        <div class="tip">Revise peri√≥dicamente los permisos asignados para garantizar el principio de m√≠nimo privilegio.</div>
        <div class="warning"><strong>‚ö†Ô∏è Importante:</strong> La asignaci√≥n es acumulativa. Si necesita remover permisos, utilice la pantalla de modificaci√≥n de usuarios o redefina la familia.</div>
    </section>

    <section id="relacionados">
        <h2>Ver tambi√©n</h2>
        <ul class="no-bullets">
            <li>üìÑ <a href="topic_23_crear_usuario.html">Crear usuario</a></li>
            <li>üìÑ <a href="topic_26_crear_rol.html">Crear rol (familia)</a></li>
            <li>üìÑ <a href="topic_27_crear_patente.html">Crear patente</a></li>
        </ul>
    </section>

    <footer>
        <p>¬© 2024 Distribuidora Los Amigos - Sistema de Gesti√≥n</p>
        <p>Todos los derechos reservados</p>
    </footer>

</body>
</html>
