<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Stock Bajo - Distribuidora Los Amigos</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <div class="breadcrumb">
        <a href="../general/topic_20_main.html">Inicio</a>
        <span>‚Ä∫</span>
        <a href="#">Reportes</a>
        <span>‚Ä∫</span>
        <span>Reporte Stock Bajo</span>
    </div>

    <h1>Reporte Stock Bajo</h1>

    <section id="introduccion">
        <h2>Introducci√≥n</h2>
        <p>
            El reporte de stock bajo muestra todos los productos activos cuyo inventario se
            encuentra por debajo del umbral definido. Permite identificar art√≠culos cr√≠ticos
            y priorizar reposiciones antes de que impacten en la operaci√≥n diaria.
        </p>
        <p>
            Utilice esta vista como parte del control operativo de dep√≥sitos o para justificar
            compras urgentes. La informaci√≥n se calcula en tiempo real tomando los datos del
            m√≥dulo de stock y clasifica cada producto seg√∫n su nivel de criticidad.
        </p>
    </section>

    <section id="acceso">
        <h2>C√≥mo Acceder</h2>
        <p>Para acceder a esta funcionalidad:</p>
        <ol>
            <li>Desde el men√∫ principal, ir a <strong>Reportes</strong>.</li>
            <li>Seleccionar <strong>Stock Bajo</strong>.</li>
            <li>Se abrir√° la ventana de <strong>Reporte de Stock Bajo</strong> con los datos actualizados.</li>
        </ol>
    </section>

    <section id="campos">
        <h2>Descripci√≥n de Controles</h2>
        <p>A continuaci√≥n se describe cada control disponible en la pantalla:</p>

        <table>
            <thead>
                <tr>
                    <th>Control</th>
                    <th>Descripci√≥n</th>
                    <th>Tipo</th>
                    <th>Obligatorio</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Umbral Stock Bajo</strong> (txtUmbral)</td>
                    <td>Cantidad m√≠nima aceptable. Los productos con stock igual o inferior se muestran en el reporte.</td>
                    <td>Campo num√©rico</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Actualizar</strong> (btnActualizarUmbral)</td>
                    <td>Aplica el nuevo umbral ingresado y recalcula el listado.</td>
                    <td>Bot√≥n</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td><strong>Refrescar</strong> (btnRefrescar)</td>
                    <td>Vuelve a consultar el stock respetando el umbral vigente.</td>
                    <td>Bot√≥n</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td><strong>Exportar a Excel</strong> (btnExportarExcel)</td>
                    <td>Genera un archivo CSV con los datos visibles para an√°lisis externo.</td>
                    <td>Bot√≥n</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td><strong>Indicadores</strong> (panelEstadisticas)</td>
                    <td>Resumen de cantidad total de productos listados y su distribuci√≥n en cr√≠ticos, muy bajos y bajos.</td>
                    <td>Etiquetas</td>
                    <td>‚Äî</td>
                </tr>
                <tr>
                    <td><strong>Grilla de resultados</strong> (sfDataGrid1)</td>
                    <td>Muestra producto, categor√≠a, stock actual, tipo y estado de criticidad calculado.</td>
                    <td>Tabla</td>
                    <td>S√≠</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="procedimiento">
        <h2>Procedimiento</h2>

        <div class="step">
            <span class="step-number">1</span>
            <strong>Definir umbral</strong>
            <p>Ingrese el valor m√≠nimo deseado en <strong>Umbral Stock Bajo</strong> y pulse <strong>Actualizar</strong> para recalcular el reporte.</p>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <strong>Analizar indicadores</strong>
            <p>Revise los totales y la cantidad de productos cr√≠ticos, muy bajos y bajos para dimensionar la situaci√≥n.</p>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <strong>Priorizar acciones</strong>
            <p>Ordene o filtre la grilla por <strong>Estado</strong> o <strong>Cantidad</strong> para decidir qu√© art√≠culos reponer primero.</p>
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <strong>Exportar informaci√≥n</strong>
            <p>Si necesita compartir el an√°lisis, presione <strong>Exportar a Excel</strong> y guarde el archivo CSV generado.</p>
        </div>
    </section>

    <section id="validaciones">
        <h2>Validaciones del Sistema</h2>
        <p>El sistema realiza las siguientes validaciones:</p>
        <ul>
            <li>El umbral debe ser un n√∫mero entero mayor a cero; de lo contrario se solicita corregir el valor.</li>
            <li>Solo se muestran productos activos cuyo stock actual es menor o igual al umbral configurado.</li>
            <li>La exportaci√≥n se bloquea si no hay datos visibles para evitar archivos vac√≠os.</li>
        </ul>
    </section>

    <section id="consejos">
        <h2>Consejos y Recomendaciones</h2>

        <div class="tip">
            Ajuste el umbral seg√∫n la rotaci√≥n del negocio. Para productos de alta rotaci√≥n use valores m√°s altos y anticipe rupturas.
        </div>

        <div class="tip">
            Combine este reporte con el historial de compras para planificar pedidos de reposici√≥n basados en datos reales.
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Advertencia:</strong> Si detecta productos en estado cr√≠tico, verifique inmediatamente los compromisos con clientes antes de confirmar nuevas ventas.
        </div>
    </section>

    <section id="errores">
        <h2>Errores Comunes y Soluciones</h2>

        <h3>Error: "Ingrese un valor v√°lido mayor a 0"</h3>
        <div class="error">
            <strong>Causa:</strong> Se ingres√≥ un umbral en blanco, con letras o menor o igual a cero.
        </div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Escriba un n√∫mero entero positivo (ejemplo: 15) y vuelva a presionar <strong>Actualizar</strong>.
        </div>

        <h3>Error: "No hay datos para exportar"</h3>
        <div class="error">
            <strong>Causa:</strong> Ning√∫n producto cumple las condiciones actuales, por lo que la grilla est√° vac√≠a.
        </div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Revise el umbral configurado o presione <strong>Refrescar</strong> para obtener datos actualizados antes de exportar.
        </div>
    </section>

    <section id="permisos">
        <h2>Permisos Necesarios</h2>
        <p>Para utilizar esta funcionalidad, el usuario debe tener el siguiente permiso:</p>
        <ul>
            <li><code>ReporteStockBajo</code> - Autoriza la visualizaci√≥n y exportaci√≥n del reporte de stock bajo.</li>
        </ul>

        <div class="warning">
            <strong>‚ö†Ô∏è Importante:</strong> Si no cuenta con el permiso requerido, contacte al administrador del sistema para solicitarlo.
        </div>
    </section>

    <section id="relacionados">
        <h2>Ver Tambi√©n</h2>
        <ul class="no-bullets">
            <li>üìÑ <a href="../stock/topic_70_mostrar_stock.html">Gesti√≥n de stock</a></li>
            <li>üìÑ <a href="../productos/topic_52_mostrar_productos.html">Listado de productos</a></li>
        </ul>
    </section>

    <footer>
        <p>¬© 2024 Distribuidora Los Amigos - Sistema de Gesti√≥n</p>
        <p>Todos los derechos reservados</p>
    </footer>

</body>
</html>
