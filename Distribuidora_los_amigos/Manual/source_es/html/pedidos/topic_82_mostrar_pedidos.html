<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consultar Pedidos - Distribuidora Los Amigos</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <div class="breadcrumb">
        <a href="../general/topic_20_main.html">Inicio</a>
        <span>‚Ä∫</span>
        <a href="#">Gesti√≥n de Pedidos</a>
        <span>‚Ä∫</span>
        <span>Consultar Pedidos</span>
    </div>

    <h1>Ver pedidos</h1>

    <section id="introduccion">
        <h2>Introducci√≥n</h2>
        <p>
            Esta pantalla muestra el listado completo de pedidos registrados con informaci√≥n del cliente, estado y monto total.
            Desde aqu√≠ puede crear nuevos pedidos, modificar su estado, eliminar registros y abrir el detalle de cada operaci√≥n.
        </p>
        <p>
            Es el punto de control principal para monitorear el avance de la preparaci√≥n, despacho y entrega de pedidos.
        </p>
    </section>

    <section id="acceso">
        <h2>C√≥mo Acceder</h2>
        <p>Para acceder a esta funcionalidad:</p>
        <ol>
            <li>Desde el men√∫ principal seleccione <strong>Pedidos ‚Üí Mostrar pedidos</strong>.</li>
            <li>La grilla se carga autom√°ticamente con todos los pedidos disponibles.</li>
        </ol>
    </section>

    <section id="campos">
        <h2>Componentes de la pantalla</h2>
        <table>
            <thead>
                <tr>
                    <th>Elemento</th>
                    <th>Descripci√≥n</th>
                    <th>Obligatorio</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Grilla de pedidos</strong> (dataGridViewPedidos)</td>
                    <td>Muestra columnas de Fecha, Cliente, Estado, Total e √çtems. Permite ordenar y seleccionar filas completas.</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Total de pedidos</strong> (lblContadorPedidos)</td>
                    <td>Etiqueta que indica la cantidad de pedidos cargados tras cada actualizaci√≥n.</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td><strong>Combo Cambiar estado</strong> (comboBoxCambiarEstado)</td>
                    <td>Lista r√°pida de estados para aplicar sobre el pedido seleccionado sin abrir formularios adicionales.</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td><strong>Bot√≥n Cambiar Estado</strong></td>
                    <td>Aplica el estado seleccionado en el combo y confirma con el usuario antes de actualizar.</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td><strong>Botones de acci√≥n</strong></td>
                    <td>
                        <ul>
                            <li><strong>‚ûï Crear:</strong> abre el formulario de alta de pedidos.</li>
                            <li><strong>‚úèÔ∏è Modificar:</strong> abre <em>ModificarPedidoForm</em> con la fila seleccionada.</li>
                            <li><strong>üóëÔ∏è Eliminar:</strong> pide confirmaci√≥n y remueve el pedido (restaurando stock mediante el servicio).</li>
                            <li><strong>üëÅÔ∏è Ver Detalle:</strong> muestra los productos del pedido en una vista dedicada.</li>
                            <li><strong>üîÑ Actualizar:</strong> recarga la grilla desde la base de datos.</li>
                        </ul>
                    </td>
                    <td>No</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="procedimiento">
        <h2>Procedimiento</h2>

        <div class="step">
            <span class="step-number">1</span>
            <strong>Localice el pedido</strong>
            <p>Ordene las columnas o utilice la barra de desplazamiento para encontrar el pedido que desea gestionar.</p>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <strong>Actualice el estado r√°pidamente</strong>
            <p>Seleccione una fila, elija un estado en el combo inferior izquierdo y presione <strong>Cambiar Estado</strong>. El sistema solicitar√° confirmaci√≥n antes de aplicar el cambio.</p>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <strong>Acceda a acciones avanzadas</strong>
            <p>
                Utilice los botones inferiores derechos para crear nuevos pedidos, abrir la modificaci√≥n completa o eliminar registros. Para revisar los productos, presione <strong>üëÅÔ∏è Ver Detalle</strong>.
            </p>
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <strong>Refresque la informaci√≥n</strong>
            <p>Despu√©s de cualquier cambio presione <strong>üîÑ Actualizar</strong> para recargar la grilla y el contador.</p>
        </div>
    </section>

    <section id="validaciones">
        <h2>Validaciones del Sistema</h2>
        <p>El sistema realiza las siguientes validaciones:</p>
        <ul>
            <li>Para modificar, eliminar o ver detalles debe haber una fila seleccionada; de lo contrario se muestra una advertencia.</li>
            <li>El cambio r√°pido de estado exige seleccionar un valor del combo y confirma la acci√≥n antes de guardar.</li>
            <li>Al eliminar se llama a <code>PedidoService.EliminarPedido</code>, que devuelve el stock y elimina los detalles antes de borrar el pedido.</li>
            <li>Si no se encuentran pedidos al cargar, se informa mediante un mensaje informativo.</li>
        </ul>
    </section>

    <section id="consejos">
        <h2>Consejos y Recomendaciones</h2>

        <div class="tip">
            Aproveche la columna <strong>Estado</strong> para identificar r√°pidamente los pedidos en tr√°nsito y priorizar los que a√∫n est√°n pendientes.
        </div>

        <div class="tip">
            Utilice la tecla <strong>F1</strong> para abrir la ayuda contextual y conocer atajos del formulario.
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Advertencia:</strong> La eliminaci√≥n es irreversible. Considere cambiar el estado o cancelarlo desde <em>Modificar pedido</em> si necesita conservar el historial.
        </div>
    </section>

    <section id="errores">
        <h2>Errores Comunes y Soluciones</h2>

        <h3>Error: "Seleccione un pedido para modificar."</h3>
        <div class="error">
            <strong>Causa:</strong> Se presion√≥ el bot√≥n de modificaci√≥n sin haber seleccionado una fila.
        </div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Seleccione el pedido en la grilla y vuelva a intentarlo.
        </div>

        <h3>Error: "Seleccione un estado v√°lido."</h3>
        <div class="error">
            <strong>Causa:</strong> Se presion√≥ <em>Cambiar Estado</em> sin elegir un valor en el combo.</div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Abra la lista desplegable, seleccione el estado deseado y confirme la operaci√≥n.</div>
    </section>

    <section id="permisos">
        <h2>Permisos Necesarios</h2>
        <p>Para utilizar esta funcionalidad, el usuario debe contar con:</p>
        <ul>
            <li><code>MOSTRAR_PEDIDOS</code> - Permite acceder al listado y realizar las acciones disponibles.</li>
            <li><code>CREAR_PEDIDO</code> - Requerido para utilizar el bot√≥n <em>‚ûï Crear</em>.</li>
        </ul>

        <div class="warning">
            <strong>‚ö†Ô∏è Importante:</strong> Si un bot√≥n no est√° visible o habilitado, solicite al administrador la asignaci√≥n de la patente correspondiente.</div>
    </section>

    <section id="relacionados">
        <h2>Ver Tambi√©n</h2>
        <ul class="no-bullets">
            <li>üìÑ <a href="topic_80_crear_pedido.html">Crear pedido</a></li>
            <li>üìÑ <a href="topic_81_modificar_pedido.html">Modificar pedido</a></li>
            <li>üìÑ <a href="topic_83_detalle_pedido.html">Detalle del pedido</a></li>
        </ul>
    </section>

    <footer>
        <p>¬© 2024 Distribuidora Los Amigos - Sistema de Gesti√≥n</p>
        <p>Todos los derechos reservados</p>
    </footer>

</body>
</html>
