<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Pedido - Distribuidora Los Amigos</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <div class="breadcrumb">
        <a href="../general/topic_20_main.html">Inicio</a>
        <span>‚Ä∫</span>
        <a href="#">Gesti√≥n de Pedidos</a>
        <span>‚Ä∫</span>
        <span>Detalle del Pedido</span>
    </div>

    <h1>Detalle del pedido</h1>

    <section id="introduccion">
        <h2>Introducci√≥n</h2>
        <p>
            Esta vista permite consultar los productos asociados a un pedido espec√≠fico, junto con cantidades,
            precios y subtotales. Tambi√©n muestra la informaci√≥n de cabecera (cliente, fecha y estado) y habilita
            la generaci√≥n de un comprobante en PDF cuando el pedido fue entregado.
        </p>
        <p>
            Util√≠cela para validar la preparaci√≥n antes del despacho, responder consultas de clientes o emitir un
            comprobante de entrega.
        </p>
    </section>

    <section id="acceso">
        <h2>C√≥mo Acceder</h2>
        <p>Para acceder a esta funcionalidad:</p>
        <ol>
            <li>Abra <strong>Pedidos ‚Üí Mostrar pedidos</strong>.</li>
            <li>Seleccione un pedido y presione <strong>üëÅÔ∏è Ver Detalle</strong>.</li>
            <li>Se abrir√° la ventana <strong>MostrarDetallePedidoForm</strong> con la informaci√≥n del pedido.</li>
        </ol>
    </section>

    <section id="campos">
        <h2>Componentes principales</h2>
        <table>
            <thead>
                <tr>
                    <th>Elemento</th>
                    <th>Descripci√≥n</th>
                    <th>Obligatorio</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Grilla de detalles</strong> (dataGridViewDetallePedido)</td>
                    <td>Muestra columnas de Producto, Cantidad, Precio Unitario y Subtotal. Filas solo lectura.</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Cliente</strong> (textBoxCliente)</td>
                    <td>Nombre del cliente asociado al pedido.</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Fecha</strong> (textBoxFecha)</td>
                    <td>Fecha de generaci√≥n del pedido en formato <code>dd/MM/yyyy</code>.</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>Estado</strong> (textBoxEstado)</td>
                    <td>Estado actual del pedido obtenido desde el servicio de pedidos.</td>
                    <td>S√≠</td>
                </tr>
                <tr>
                    <td><strong>üìÑ Generar PDF</strong></td>
                    <td>Bot√≥n din√°mico que aparece cuando el pedido se encuentra en estado <em>Entregado</em> y permite descargar un comprobante.</td>
                    <td>No</td>
                </tr>
                <tr>
                    <td><strong>Cerrar</strong></td>
                    <td>Bot√≥n que cierra la ventana y regresa al listado.</td>
                    <td>No</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="procedimiento">
        <h2>Procedimiento</h2>

        <div class="step">
            <span class="step-number">1</span>
            <strong>Revise la cabecera</strong>
            <p>Verifique el cliente, la fecha y el estado para asegurarse de estar consultando el pedido correcto.</p>
        </div>

        <div class="step">
            <span class="step-number">2</span>
            <strong>Analice los productos</strong>
            <p>Recorra la grilla para confirmar cantidades, precios y subtotales de cada art√≠culo incluido en el pedido.</p>
        </div>

        <div class="step">
            <span class="step-number">3</span>
            <strong>Genere el PDF (si est√° disponible)</strong>
            <p>Cuando el estado es <em>Entregado</em>, presione <strong>üìÑ Generar PDF</strong>, elija la ubicaci√≥n del archivo y confirme si desea abrirlo al finalizar.</p>
        </div>

        <div class="step">
            <span class="step-number">4</span>
            <strong>Cierre la ventana</strong>
            <p>Presione <strong>Cerrar</strong> para volver al listado de pedidos.</p>
        </div>
    </section>

    <section id="validaciones">
        <h2>Validaciones del Sistema</h2>
        <p>El sistema realiza las siguientes validaciones:</p>
        <ul>
            <li>Si el pedido no se encuentra o no posee detalles se informa mediante un mensaje de error.</li>
            <li>El bot√≥n PDF solo se muestra cuando el estado es <em>Entregado</em>.</li>
            <li>Al generar el PDF se solicita confirmaci√≥n de ruta y se ofrece abrir el archivo reci√©n creado.</li>
            <li>Las columnas de la grilla se configuran como solo lectura para evitar modificaciones accidentales.</li>
        </ul>
    </section>

    <section id="consejos">
        <h2>Consejos y Recomendaciones</h2>

        <div class="tip">
            Utilice la grilla para detectar diferencias entre lo preparado y lo facturado antes de despachar la mercader√≠a.</div>

        <div class="tip">
            Guarde el PDF en una carpeta compartida para que log√≠stica y administraci√≥n accedan al comprobante de entrega.</div>

        <div class="warning">
            <strong>‚ö†Ô∏è Advertencia:</strong> Si necesita corregir cantidades deber√° volver a <em>Modificar pedido</em>; esta vista es solo informativa.</div>
    </section>

    <section id="errores">
        <h2>Errores Comunes y Soluciones</h2>

        <h3>Error: "Error al generar el PDF"</h3>
        <div class="error">
            <strong>Causa:</strong> La ruta seleccionada no es accesible o se produjo un problema al crear el archivo.</div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Seleccione una carpeta v√°lida y vuelva a ejecutar la acci√≥n. Compruebe que el archivo no est√© en uso.</div>

        <h3>Error: "No se pudo cargar el pedido."</h3>
        <div class="error">
            <strong>Causa:</strong> El pedido ya no existe en la base de datos o se abri√≥ el formulario sin una selecci√≥n v√°lida.</div>
        <div class="success">
            <strong>‚úÖ Soluci√≥n:</strong> Cierre la ventana, actualice el listado de pedidos y vuelva a seleccionar el registro.</div>
    </section>

    <section id="permisos">
        <h2>Permisos Necesarios</h2>
        <p>Para utilizar esta funcionalidad, el usuario debe contar con:</p>
        <ul>
            <li><code>MOSTRAR_PEDIDOS</code> - Permite acceder al listado y abrir el detalle.</li>
        </ul>

        <div class="warning">
            <strong>‚ö†Ô∏è Importante:</strong> Si no aparece el bot√≥n para generar PDF, verifique que el pedido est√© marcado como <em>Entregado</em> o consulte al administrador.</div>
    </section>

    <section id="relacionados">
        <h2>Ver Tambi√©n</h2>
        <ul class="no-bullets">
            <li>üìÑ <a href="topic_80_crear_pedido.html">Crear pedido</a></li>
            <li>üìÑ <a href="topic_81_modificar_pedido.html">Modificar pedido</a></li>
            <li>üìÑ <a href="topic_82_mostrar_pedidos.html">Ver pedidos</a></li>
        </ul>
    </section>

    <footer>
        <p>¬© 2024 Distribuidora Los Amigos - Sistema de Gesti√≥n</p>
        <p>Todos los derechos reservados</p>
    </footer>

</body>
</html>
